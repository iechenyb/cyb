VarietyFundDistribution=myapp.controller("VarietyFundDistribution",function(b,c,l){function h(a){option1.dataZoom.start=a.zoom.start;option1.dataZoom.end=a.zoom.end}function k(a){option2.dataZoom.start=a.zoom.start;option2.dataZoom.end=a.zoom.end}echartdata=[];px="rzl";c.get(basePath+"cash/getURL.html").success(function(a){a=a.replace(/"/g,"");socket=io.connect(a);socket.on("pushincrandtotal",function(a){var b=new Date;$("#x").text("\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"+b.getHours()+":"+b.getMinutes()+
":"+b.getSeconds());echartdata=a.filter(function(a){return""!=a.name});drawechart(echartdata)});socket.on("connect",function(){console.log("\ufffd\ufffd\ufffd\u04f3\u0279\ufffd");socket.emit("getmsg","pushincrandtotal")});socket.on("connecting",function(){console.log("\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd")});socket.on("disconnect",function(){console.log("\ufffd\u03ff\ufffd\ufffd\ufffd\ufffd\ufffd")});socket.on("connect_failed",function(){console.log("\ufffd\ufffd\ufffd\ufffd\u02a7\ufffd\ufffd")});
socket.on("error",function(a){console.log("\ufffd\ufffd\ufffd\u04f4\ufffd\ufffd\ufffd"+a)});socket.on("message",function(a){console.log("\ufffd\ufffd\u03e2"+a)});socket.on("anything",function(a){console.log("\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03e2"+a)});socket.on("reconnect_failed",function(){console.log("\ufffd\ufffd\ufffd\ufffd\u02a7\ufffd\ufffd")});socket.on("reconnect",function(){console.log("\ufffd\u0279\ufffd\ufffd\ufffd\ufffd\ufffd")});socket.on("reconnecting",function(a){console.log("\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd"+
a)})}).error(function(a,b,c,g){});option1={animation:!1,title:{text:"\u022b\ufffd\ufffd\ufffd\u06bb\ufffd\ufffd\ufffd\u01b7\ufffd\u05b1\ufffd\u05a4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",x:"center"},tooltip:{trigger:"axis",formatter:"{a} </br>{b} : {c}%"},grid:{y2:120},dataZoom:{show:!0,realtime:!0,start:0,end:100},xAxis:[{type:"category",name:"\u01b7\ufffd\ufffd",data:[],axisLabel:{show:!0,rotate:45}}],yAxis:[{type:"value",name:"\ufffd\ufffd\u05a4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd(%)",
scale:!0,max:20,min:-20,axisLabel:{formatter:function(a){return 20==a?">"+a:-20==a?"<"+a:a}}}],series:[{name:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",type:"bar",data:[]}]};option2={animation:!1,title:{text:"\u022b\ufffd\ufffd\ufffd\u06bb\ufffd\ufffd\ufffd\u01b7\ufffd\u05b1\ufffd\u05a4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",x:"center"},tooltip:{trigger:"axis",formatter:"{a} </br>{b} : {c}"},grid:{y2:120},dataZoom:{show:!0,realtime:!0,start:0,end:100},xAxis:[{type:"category",name:"\u01b7\ufffd\ufffd",
data:[],axisLabel:{show:!0,rotate:45}}],yAxis:[{type:"value",scale:!0,name:"\ufffd\ufffd\u05a4\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd(\ufffd\ufffd\u052a)",axisLabel:{show:!0,rotate:45,formatter:"{value}"}}],series:[{name:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd",type:"bar",data:[]}]};b.pxrzl=function(){px="rzl";drawechart(echartdata)};b.pxrze=function(){px="rze";drawechart(echartdata)};drawechart=function(a){a.sort(function(a,b){return a.dayChangeRate<b.dayChangeRate?1:-1});var b=[],c=[],g=
[],e=[],d;for(d in a)b[d]=a[d].name,g[d]=a[d].dayChangeRate.toFixed(2);option1.xAxis[0].data=b;option1.series[0].data=g;a.sort(function(a,b){return a.dayChangeAmount<b.dayChangeAmount?1:-1});for(d in a)c[d]=a[d].name,e[d]=(a[d].dayChangeAmount/1E4).toFixed(2);option2.xAxis[0].data=c;option2.series[0].data=e;var f=0,f=Math.abs(e[3])<Math.abs(e[e.length-3-1])?Math.abs(1E3*Math.floor(e[e.length-3-1]/1E3)):Math.abs(1E3*Math.ceil(e[3]/1E3));option2.yAxis[0].max=f;option2.yAxis[0].min=-f;option2.yAxis[0].axisLabel.formatter=
function(a){return a>=f?">"+a:a<=-f?"<"+a:a};a=echarts.init($("#echartdiv1")[0]);a.setOption(option1);b=echarts.init($("#echartdiv2")[0]);b.setOption(option2);a.on("dataZoom",h);b.on("dataZoom",k)}});function sum(b,c){return b+c}function sub(b,c){return b-c};function sum(b,c){return b+c}function sub(b,c){return b-c};
